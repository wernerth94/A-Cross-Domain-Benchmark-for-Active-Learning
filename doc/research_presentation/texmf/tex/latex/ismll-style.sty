\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{ismll-style}[2020/10/03 package ismll-packages]


%% TCOLORBOX STYLE - QUOTATION BOX
%BEGIN_FOLD
%\RequirePackage[most]{tcolorbox}
%\tcbuselibrary{listings}
%\tcbset{listing engine=listings}

%\newtcolorbox{quotebox}[1][]{%
%  colback=black!8!white,
%  colframe=black!8,
%  notitle,
%  sharp corners,
%  borderline west={3mm}{0pt}{red!80!black},
%  enhanced,
%  breakable
%}
%END_FOLD


\NewDocumentEnvironment{quotebox}{d<> o}{
%TODO: title - quote - author
\IfValueT{#1}{\onslide<#1>}
%
\begin{tcolorbox}[
  colback=black!8!white,
  colframe=black!8,
  notitle,
  sharp corners,
  borderline west={3mm}{0pt}{red!80!black},
  enhanced,
  breakable
]

}{
\IfValueT{#2}{%
  {\raggedleft\newline\footnotesize\hspace*{\fill} -- \textsl{#2}}
}
\end{tcolorbox}
%
\IfValueT{#1}{\onslide}
}


\DeclareDocumentCommand{\underbrace}{d<> m e{_}}{%
  \IfValueTF{#1}{% IF <overlay-specification> given
    \oldunderbrace{#2\onslide<#1>}_{#3}\onslide
  }{% ELSE
    \oldunderbrace{#2}_{#3}
  }%
}%


%\DeclareDocumentEnvironment{\Quote}{o m}{
%%TODO: title - quote - author
%\begin{quotebox}
%#2
%\IfValueT{#1}{%
%  {\raggedleft\newline\footnotesize\hspace*{\fill} -- \textsl{#1}}
%}
%\end{quotebox}
%}



%%STYLE
%BEGIN_FOLD
% slightly cramped style with less whitespace
%\renewcommand{\arraystretch}{1.25}
%\setlength{\textfloatsep}{.5\baselineskip}
%\setlength{\floatsep}{.5\baselineskip}
%\setlength{\intextsep}{.5\baselineskip}
%\setlength{\abovecaptionskip}{.5\baselineskip}
%\setlength{\belowcaptionskip}{.5\baselineskip}
%\setlength{\abovedisplayskip}{0pt}
%\setlength{\belowdisplayskip}{0pt}
%\setlength{\abovedisplayshortskip}{0pt}
%\setlength{\belowdisplayshortskip}{0pt}




%\setlength{\parskip}{0pt}
%\renewcommand{\baselinestretch}{0.5}
%END_FOLD



%% WRAPFIGURE PATCH
%BEGIN_FOLD
% this patch fixes the whitespace before a wrapfigure
\RequirePackage{wrapfig}
\let\oldwrapfigure\wrapfigure
\let\oldendwrapfigure\endwrapfigure
\let\oldwraptable\wraptable
\let\oldendwraptable\endwraptable
\RenewDocumentEnvironment{wrapfigure}{O{} m O{\wrapoverhang} m}{%
  \oldwrapfigure[#1]{#2}[#3]{#4}%
  \vspace{-\intextsep}%  Defaults to 0pt \plus 0pt \minus 0pt
  }{\oldendwrapfigure}

\RenewDocumentEnvironment{wraptable}{ O{} m O{\wrapoverhang} m}{%
  \oldwraptable[#1]{#2}[#3]{#4}%
  \vspace{-\intextsep}%  Defaults to 0pt \plus 0pt \minus 0pt
  }{\oldendwraptable}
%END_FOLD



%% HYPERREF STYLE
%BEGIN_FOLD
\RequirePackage{hyperref}
\definecolor{mydarkblue}{rgb}{0,0.08,0.45}
\hypersetup{ %
%pdfencoding=auto,
unicode,
naturalnames,
%pdftitle={},
%pdfauthor={},
%pdfsubject={Proceedings of the International Conference on Machine Learning 2019},
%pdfkeywords={},
pdfborder=0 0 0,
pdfpagemode=UseNone,
colorlinks=true,
linkcolor=mydarkblue,
citecolor=mydarkblue,
filecolor=mydarkblue,
urlcolor=mydarkblue,
pdfview=FitH}
%END_FOLD



%% VERBATIM CODE STYLE
%BEGIN_FOLD
\RequirePackage{listings}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
 
\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}


\definecolor{deepblue}{rgb}{0,0,0.5}
\definecolor{deepred}{rgb}{0.6,0,0}
\definecolor{deepgreen}{rgb}{0,0.5,0}

\lstdefinestyle{python}{
    backgroundcolor=\color{white},
    frame=single,
    commentstyle=\color{deepgreen},
    keywordstyle=\color{blue},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\small,
  emph={self, @staticmethod},          % Custom highlighting
  emphstyle=\color{deepred}, 
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=none,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2,
    language=python
}

\lstset{breaklines=true, basicstyle=\ttfamily}

\lstdefinestyle{lolstyle}{ 
  language=python,                 % the language of the code
  backgroundcolor=\color{white},   % choose the background color; you must add \usepackage{color} or \usepackage{xcolor}; should come as last argument
  basicstyle=\ttfamily\footnotesize,        % the size of the fonts that are used for the code
  breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
  breaklines=true,                 % sets automatic line breaking
  captionpos=b,                    % sets the caption-position to bottom
  commentstyle=\color{mygreen},    % comment style
  deletekeywords={...},            % if you want to delete keywords from the given language
  escapeinside={\%*}{*)},          % if you want to add LaTeX within your code
  extendedchars=true,              % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
  firstnumber=1000,                % start line enumeration with line 1000
  frame=single,	                   % adds a frame around the code
  keepspaces=true,                 % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
  keywordstyle=\color{blue},       % keyword style
  emph={MyClass,__init__},          % Custom highlighting
  emphstyle=\ttb\color{deepred},    % Custom highlighting style
  morekeywords={},            % if you want to add more keywords to the set
  numbers=none,                    % where to put the line-numbers; possible values are (none, left, right)
  numbersep=5pt,                   % how far the line-numbers are from the code
  numberstyle=\tiny\color{mygray}, % the style that is used for the line-numbers
  rulecolor=\color{black},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
  showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
  showstringspaces=false,          % underline spaces within strings only
  showtabs=false,                  % show tabs within strings adding particular underscores
  stepnumber=2,                    % the step between two line-numbers. If it's 1, each line will be numbered
  stringstyle=\color{mymauve},     % string literal style
  tabsize=2,	                   % sets default tabsize to 2 spaces
  title=\lstname                   % show the filename of files included with \lstinputlisting; also try caption instead of title
}

\lstdefinestyle{pystyle}{
language=Python,
basicstyle=\ttm,
otherkeywords={self},             % Add keywords here
keywordstyle=\ttb\color{deepblue},
emph={MyClass,__init__},          % Custom highlighting
emphstyle=\ttb\color{deepred},    % Custom highlighting style
stringstyle=\color{deepgreen},
frame=tb,                         % Any extra options here
showstringspaces=false            % 
}
%\lstset{style=mystyle}
%END_FOLD



%% ALGORITHM-PSEUDOCODE TYPING
%BEGIN_FOLD
%\RequirePackage[ruled]{algorithm2e}

%\SetAlFnt{\small}
%\SetAlgoLined
%\DontPrintSemicolon
%
%\SetKwFunction{Union}{Union}
%\SetKwFunction{FindCompress}{FindCompress}
%\SetKwInOut{Input}{input}
%\SetKwInOut{Output}{output}

%\SetKw{Continue}{continue}
%\SetKw{Break}{break}
%\newcommand{\LLCase}[2]{{\let\par\relax\uCase{#1}{#2}}}
%\SetKwFor{Loop}{loop}{}{end\,loop}
%END_FOLD



%% AMS-THEOREM
%BEGIN_FOLD
\@ifclassloaded{beamer}{%
}{% do not use iof beamer loaded!!
\RequirePackage{amsthm}
\theoremstyle{plain}% default
\newtheorem{theorem}{Theorem}%[section]
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{conclusion}[theorem]{Conlusion}
\newtheorem{corollary}[theorem]{Corollary}
\theoremstyle{definition}
\newtheorem{construction}[theorem]{Construction}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{defn}[theorem]{Definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{desi}[theorem]{Desideratum}
\newtheorem{example}[theorem]{Example}
\newtheorem{exercise}[theorem]{Exercise}
%\newtheorem{problem}[section]{Problem}
\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{question}[theorem]{Question}
\newtheorem{counter-example}[theorem]{Counter-Example}

\theoremstyle{plain}% default
\newtheorem*{theorem*}{Theorem} %[chapter]
\newtheorem*{conjecture*}{Conjecture}
\newtheorem*{proposition*}{Proposition}
\newtheorem*{conclusion*}{Conlusion}
\newtheorem*{corollary*}{Corollary}
\theoremstyle{definition}
\newtheorem*{construction*}{Construction}
\newtheorem*{lemma*}{Lemma}
\newtheorem*{defn*}{Definition}
\newtheorem*{desi*}{Desideratum}
\newtheorem*{example*}{Example}
\newtheorem*{exercise*}{Exercise}
%\newtheorem*{problem*}{Problem}
\theoremstyle{remark}
\newtheorem*{remark*}{Remark}
\newtheorem*{counter-example*}{Counter-Example}
} %ENDIFCLASSLOADED
%END_FOLD



%% TIKZ- MACROS
%BEGIN_FOLD
\RequirePackage{tikz}
\tikzset{->-/.style={
	decoration={markings, mark=at position #1 with {\arrow{latex}}},
	postaction={decorate}
	}
}\tikzset{->-/.default=0.5}
%END_FOLD


\endinput



%% BIBLATEX
%BEGIN_FOLD
%\renewcommand*{\labelalphaothers}{ }
%
%
%\DeclareLabelalphaTemplate{
%  \labelelement{
%    \field[final]{shorthand}
%    \field{labelname}
%    \field{label}
%  }
%  \labelelement{
%    \literal{,\addhighpenspace}
%  }
%  \labelelement{
%    \field{year}
%  }
%}
%\newcommand{\citefirst}[1]{%
%  \AtNextCite{\defcounter{maxnames}{1}\defcounter{minnames}{1}}%
%  \citet{#1}%
%}
%END_FOLD




%% MACROS
%BEGIN_FOLD
%\makeatletter
%\def\Sum{%
%	\let\Sum@subarg\relax
%	\let\Sum@suparg\relax
%	\Sum@testsub}
%
%\def\Sum@sub_#1{%
%	\def\Sum@subarg{#1}%
%	\ifx\Sum@suparg\relax
%	\expandafter\Sum@testsup
%	\else
%	\expandafter\Sum@doit
%	\fi}
%
%\def\Sum@sup^#1{%
%	\def\Sum@suparg{#1}%
%	\Sum@testsub@b
%}
%
%
%\def\Sum@testsup{%
%	\let\Sum@suparg\@empty
%	\@ifnextchar^\Sum@sup\Sum@testsub}
%
%\def\Sum@testsup@b{%
%	\let\Sum@suparg\@empty
%	\@ifnextchar^\Sum@sup\Sum@doit}
%
%\def\Sum@testsub{%
%	\@ifnextchar_\Sum@sub\Sum@testsup@b}
%
%\def\Sum@testsub@b{%
%	\@ifnextchar_\Sum@sub\Sum@doit}
%
%
%\def\Sum@doit{%
%	\sum_{\mathclap{\Sum@subarg}}^{\mathclap{\Sum@suparg}}}
%
%\makeatletter
%END_FOLD
